{"version":3,"sources":["components/LocationVariable.jsx","components/LocationVariableContainer.jsx","components/ContentLoader.jsx","components/LocationSummary.jsx","utils/locationUtils.js","components/LocationSummaryContainer.jsx","components/IntroCard.jsx","components/IntroCardContainer.jsx","components/DeckGL.jsx","App.js","index.js"],"names":["LocationVariable","props","icon","value","className","LocationVariableContainer","type","MyLoader","speed","width","height","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","LocationSummary","motionVerb","address","altitude","batteryPercent","batteryStatus","horizontalAccuracy","verticalAccuracy","pastTimeSentence","console","log","v","OneHour","OneDay","metersToFeet","Math","round","geocoder","require","process","LocationSummaryContainer","locationFromStorage","JSON","parse","localStorage","getItem","useState","location","setLocation","a","fetch","response","json","useEffect","fetchAndStoreLocation","getLocation","then","data","tempLocation","query","toFixed","reverse","Date","now","results","setItem","stringify","catch","err","error","REACT_APP_DEV_MODE","storedDate","parseInt","splitMotion","split","length","includes","addressComponents","toLowerCase","undefined","timeString","diffMs","getTime","days","floor","hours","minutes","seconds","processLocationData","IntroCard","IntroCardContainer","INITIAL_VIEW_STATE","longitude","latitude","zoom","pitch","bearing","DeckGLComponent","coordinateList","layer","GridLayer","id","pickable","extruded","cellSize","elevationScale","getPosition","viewState","layers","getTooltip","object","position","join","count","controller","mapboxApiAccessToken","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b955c906.chunk.js","sourcesContent":["import React from \"react\";\nimport \"css/LocationVariable.css\";\n\nconst LocationVariable = (props) => {\n  const { icon, value } = props;\n  return (\n    <div className=\"LocationVariable\">\n      <div className=\"LocationVariable-icon\">{icon}</div>\n      <div className=\"LocationVariable-text\">{value}</div>\n    </div>\n  );\n};\n\nexport default LocationVariable;\n","import React from \"react\";\nimport LocationVariable from \"./LocationVariable\";\nimport {\n  FaCarAlt,\n  FaWalking,\n  FaRunning,\n  FaBiking,\n  FaMale,\n  FaClock,\n  FaMountain,\n  FaBatteryEmpty,\n  FaBatteryQuarter,\n  FaBatteryHalf,\n  FaBatteryThreeQuarters,\n  FaBatteryFull,\n  FaBolt,\n  FaMapMarkedAlt,\n  FaStopwatch,\n  FaAngleDoubleDown,\n  FaMapPin,\n} from \"react-icons/fa\";\n\nconst LocationVariableContainer = (props) => {\n  const { type, value } = props;\n\n  // Handle location\n  switch (type) {\n    case \"motion\":\n      switch (value) {\n        case \"driving\":\n          return (\n            <LocationVariable\n              icon={<FaCarAlt className=\"LocationVariable-icon\" />}\n              value={value}\n            />\n          );\n        case \"walking\":\n          return (\n            <LocationVariable\n              icon={<FaWalking className=\"LocationVariable-icon\" />}\n              value={value}\n            />\n          );\n        case \"running\":\n          return (\n            <LocationVariable\n              icon={<FaRunning className=\"LocationVariable-icon\" />}\n              value={value}\n            />\n          );\n        case \"cycling\":\n          return (\n            <LocationVariable\n              icon={<FaBiking className=\"LocationVariable-icon\" />}\n              value={value}\n            />\n          );\n        case \"stationary\":\n          return (\n            <LocationVariable\n              icon={<FaMale className=\"LocationVariable-icon\" />}\n              value={value}\n            />\n          );\n      }\n      break;\n    case \"address\":\n      return (\n        <LocationVariable\n          icon={<FaMapMarkedAlt className=\"LocationVariable-icon\" />}\n          value={value}\n        />\n      );\n    case \"speed\":\n      return (\n        <LocationVariable\n          icon={<FaStopwatch className=\"LocationVariable-icon\" />}\n          value={value}\n        />\n      );\n    case \"altitude\":\n      return (\n        <LocationVariable\n          icon={<FaMountain className=\"LocationVariable-icon\" />}\n          value={value}\n        />\n      );\n    case \"batteryPercent\":\n      if (value > 95) {\n        return (\n          <LocationVariable\n            icon={<FaBatteryFull className=\"LocationVariable-icon\" />}\n            value={value}\n          />\n        );\n      } else if (value > 75) {\n        return (\n          <LocationVariable\n            icon={<FaBatteryThreeQuarters className=\"LocationVariable-icon\" />}\n            value={value}\n          />\n        );\n      } else if (value > 50) {\n        return (\n          <LocationVariable\n            icon={<FaBatteryHalf className=\"LocationVariable-icon\" />}\n            value={value}\n          />\n        );\n      } else if (value > 25) {\n        return (\n          <LocationVariable\n            icon={<FaBatteryQuarter className=\"LocationVariable-icon\" />}\n            value={value}\n          />\n        );\n      } else {\n        return (\n          <LocationVariable\n            icon={<FaBatteryEmpty className=\"LocationVariable-icon\" />}\n            value={value}\n          />\n        );\n      }\n\n    case \"batteryStatus\":\n      if (value === \"charging\") {\n        return (\n          <LocationVariable\n            icon={<FaBolt className=\"LocationVariable-icon\" />}\n            value={value}\n          />\n        );\n      } else {\n        return (\n          <LocationVariable\n            icon={<FaAngleDoubleDown className=\"LocationVariable-icon\" />}\n            value={value}\n          />\n        );\n      }\n    case \"horizontalAccuracy\":\n      return (\n        <LocationVariable\n          icon={<FaMapPin className=\"LocationVariable-icon\" />}\n          value={value}\n        />\n      );\n    case \"verticalAccuracy\":\n      return (\n        <LocationVariable\n          icon={<FaMapPin className=\"LocationVariable-icon\" />}\n          value={value}\n        />\n      );\n    case \"pastTimeSentence\":\n      return (\n        <LocationVariable\n          icon={<FaClock className=\"LocationVariable-icon\" />}\n          value={value}\n        />\n      );\n    default:\n    // code block\n  }\n\n  return <LocationVariable />;\n};\n\nexport default LocationVariableContainer;\n","import React from \"react\";\nimport ContentLoader from \"react-content-loader\";\n\nconst MyLoader = (props) => {\n  return (\n    <ContentLoader\n      speed={2}\n      width={600}\n      height={300}\n      viewBox=\"0 0 600 300\"\n      backgroundColor=\"#000000\"\n      foregroundColor=\"#ecebeb\"\n      {...props}\n    >\n      <rect x=\"0\" y=\"15\" rx=\"3\" ry=\"3\" width=\"410\" height=\"6\" />\n      <rect x=\"0\" y=\"31\" rx=\"3\" ry=\"3\" width=\"380\" height=\"6\" />\n      <rect x=\"0\" y=\"47\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\n      <rect x=\"0\" y=\"64\" rx=\"3\" ry=\"3\" width=\"295\" height=\"6\" />\n      <rect x=\"0\" y=\"83\" rx=\"3\" ry=\"3\" width=\"350\" height=\"15\" />\n      <rect x=\"2\" y=\"135\" rx=\"3\" ry=\"3\" width=\"410\" height=\"6\" />\n      <rect x=\"2\" y=\"151\" rx=\"3\" ry=\"3\" width=\"380\" height=\"6\" />\n      <rect x=\"2\" y=\"167\" rx=\"3\" ry=\"3\" width=\"178\" height=\"6\" />\n      <rect x=\"2\" y=\"184\" rx=\"3\" ry=\"3\" width=\"295\" height=\"6\" />\n      <rect x=\"2\" y=\"203\" rx=\"3\" ry=\"3\" width=\"350\" height=\"10\" />\n    </ContentLoader>\n  );\n};\n\nexport default MyLoader;\n","import React from \"react\";\nimport \"css/LocationSummary.css\";\nimport LocationVariableContainer from \"./LocationVariableContainer\";\nimport MyLoader from \"./ContentLoader\";\n\nconst LocationSummary = (props) => {\n  const {\n    motionVerb,\n    address,\n    speed,\n    altitude,\n    batteryPercent,\n    batteryStatus,\n    horizontalAccuracy,\n    verticalAccuracy,\n    pastTimeSentence,\n  } = props;\n\n  console.log(motionVerb);\n\n  const v = (type, value) => {\n    return <LocationVariableContainer type={type} value={value} />;\n  };\n\n  return (\n    <div className=\"LocationSummary\">\n      {motionVerb ? (\n        <div className=\"LocationSummary-content\">\n          <div>\n            {v(\"motion\", motionVerb)}, {v(\"speed\", speed)}mph{\" \"}\n          </div>\n          <div>\n            {v(\"altitude\", altitude)}ft within{\" \"}\n            {v(\"verticalAccuracy\", verticalAccuracy)}ft{\" \"}\n          </div>\n          <div>\n            {v(\"batteryStatus\", batteryStatus)} at{\" \"}\n            {v(\"batteryPercent\", batteryPercent)}%.\n          </div>\n          <div>\n            {v(\"address\", address)} within{\" \"}\n            {v(\"horizontalAccuracy\", horizontalAccuracy)}ft{\" \"}\n          </div>\n          <div>\n            <div>{v(\"pastTimeSentence\", pastTimeSentence)}</div>\n          </div>\n        </div>\n      ) : (\n        <MyLoader />\n      )}\n    </div>\n  );\n};\n\nexport default LocationSummary;\n","const OneSecond = 1000;\nconst OneMinute = 60000;\nconst OneHour = 3600000;\nconst OneDay = 86400000;\n\nexport const processLocationData = (location) => {\n  let motionVerb,\n    address,\n    speed,\n    altitude,\n    batteryPercent,\n    batteryStatus,\n    horizontalAccuracy,\n    verticalAccuracy,\n    pastTimeSentence;\n\n  if (!location) {\n    return [\n      motionVerb,\n      address,\n      speed,\n      altitude,\n      batteryPercent,\n      batteryStatus,\n      horizontalAccuracy,\n      verticalAccuracy,\n      pastTimeSentence,\n    ];\n  }\n\n  if (location[\"motion\"]) {\n    let splitMotion = location[\"motion\"].split(\",\");\n\n    if (location[\"motion\"] === \" \") {\n      motionVerb = \"stationary\";\n    } else if (splitMotion.length === 1) {\n      motionVerb = splitMotion[0];\n    } else if (splitMotion.length === 2) {\n      if (splitMotion.includes(\"driving\")) {\n        motionVerb = \"driving\";\n      } else if (splitMotion.includes(\"walking\")) {\n        motionVerb = \"walking\";\n      } else if (splitMotion.includes(\"running\")) {\n        motionVerb = \"running\";\n      } else if (splitMotion.includes(\"cycling\")) {\n        motionVerb = \"cycling\";\n      } else if (splitMotion.includes(\"stationary\")) {\n        motionVerb = \"stationary\";\n      }\n    }\n  }\n\n  if (location[\"geocodio_results\"]) {\n    let addressComponents = location[\"geocodio_results\"][\"address_components\"];\n    let street = addressComponents[\"formatted_street\"];\n    let county = addressComponents[\"county\"];\n    let gpsState = addressComponents[\"state\"];\n\n    address = (street + \", \" + county + \", \" + gpsState).toLowerCase();\n  }\n\n  if (location[\"speed\"]) {\n    if (location[\"speed\"] < 0) {\n      speed = 0;\n    } else {\n      //m/s to mph\n      speed = Math.round(location[\"speed\"] * 2.23694);\n    }\n  }\n\n  if (location[\"altitude\"]) {\n    altitude = metersToFeet(location[\"altitude\"]);\n  }\n\n  if (location[\"battery_level\"]) {\n    batteryPercent = Math.round(100 * location[\"battery_level\"]);\n  }\n\n  if (location[\"battery_state\"] !== undefined) {\n    if (location[\"battery_state\"] === true) {\n      batteryStatus = \"charging\";\n    } else {\n      batteryStatus = \"draining\";\n    }\n  }\n\n  horizontalAccuracy = metersToFeet(location[\"horizontal_accuracy\"]);\n  verticalAccuracy = metersToFeet(location[\"vertical_accuracy\"]);\n\n  if (location[\"timestamp\"]) {\n    let timeString = \"\";\n\n    const now = Date.now();\n    const lastTime = parseInt(\n      new Date(location[\"timestamp\"]).getTime().toFixed(0)\n    );\n\n    let diffMs = now - lastTime;\n\n    let days = Math.floor(diffMs / OneDay);\n    diffMs %= OneDay;\n    let hours = Math.floor(diffMs / OneHour);\n    diffMs %= OneHour;\n    let minutes = Math.floor(diffMs / OneMinute);\n    diffMs %= OneMinute;\n    let seconds = Math.floor(diffMs / OneSecond);\n\n    if (days !== 0) {\n      if (days === 1) {\n        timeString += days + \" day\";\n      } else {\n        timeString += days + \" days\";\n      }\n    }\n\n    if (hours !== 0) {\n      if (timeString.length === 0) {\n        if (hours === 1) {\n          timeString += hours + \" hour\";\n        } else {\n          timeString += hours + \" hours\";\n        }\n      } else {\n        if (hours === 1) {\n          timeString += \", \" + hours + \" hour\";\n        } else {\n          timeString += \", \" + hours + \" hours\";\n        }\n      }\n    }\n\n    if (minutes !== 0) {\n      if (timeString.length === 0) {\n        if (minutes === 1) {\n          timeString += minutes + \" minute\";\n        } else {\n          timeString += minutes + \" minutes\";\n        }\n      } else {\n        if (minutes === 1) {\n          timeString += \", \" + days + \" minute\";\n        } else {\n          timeString += \", \" + minutes + \" minutes\";\n        }\n      }\n    }\n\n    if (seconds !== 0) {\n      if (timeString.length === 0) {\n        if (seconds === 1) {\n          timeString += seconds + \" second\";\n        } else {\n          timeString += seconds + \" seconds\";\n        }\n      } else {\n        if (days === 1) {\n          timeString += \", \" + days + \" day\";\n        }\n        timeString += \", \" + seconds + \" seconds\";\n      }\n    }\n\n    timeString += \" ago\";\n    pastTimeSentence = timeString;\n  }\n\n  return [\n    motionVerb,\n    address,\n    speed,\n    altitude,\n    batteryPercent,\n    batteryStatus,\n    horizontalAccuracy,\n    verticalAccuracy,\n    pastTimeSentence,\n  ];\n};\n\nconst metersToFeet = (value) => {\n  return Math.round(value * 3.28084);\n};\n","import React, { useEffect, useState } from \"react\";\nimport \"css/LocationSummary.css\";\nimport LocationSummary from \"./LocationSummary\";\nimport { processLocationData } from \"../utils/locationUtils\";\nimport MyLoader from \"./ContentLoader\";\n\nconst TenMinutes = 600000; // in ms\nconst Geocodio = require(\"geocodio-library-node\");\nconst geocoder = new Geocodio(process.env.REACT_APP_GEOCODIO_API_KEY);\n\nconst LocationSummaryContainer = () => {\n  let locationFromStorage = JSON.parse(localStorage.getItem(\"location\"));\n  const [location, setLocation] = useState(locationFromStorage);\n\n  async function getLocation() {\n    let response = await fetch(\"api/query\");\n    return await response.json();\n  }\n\n  useEffect(() => {\n    const fetchAndStoreLocation = () => {\n      getLocation().then((data) => {\n        let tempLocation = data;\n\n        let query =\n          tempLocation[\"latitude\"].toFixed(7) +\n          \",\" +\n          tempLocation[\"longitude\"].toFixed(7);\n\n        geocoder\n          .reverse(query)\n          .then((response) => {\n            tempLocation[\"last_updated\"] = Date.now();\n            tempLocation[\"geocodio_results\"] = response.results[0];\n            setLocation(tempLocation);\n            localStorage.setItem(\"location\", JSON.stringify(tempLocation));\n          })\n          .catch((err) => {\n            console.error(err);\n          });\n      });\n    };\n\n    if (process.env.REACT_APP_DEV_MODE) {\n      console.log(\"Dev mode enabled, not fetching data.\");\n      return;\n    }\n    if (location != null) {\n      let storedDate = parseInt(location[\"last_updated\"]);\n      let now = Date.now();\n\n      if (now - storedDate > TenMinutes) {\n        fetchAndStoreLocation();\n        console.log(\"Longer than 10 minutes since last fetch\");\n      }\n    }\n\n    if (location == null) {\n      fetchAndStoreLocation();\n      console.log(\"localStorage empty, fetching\");\n    }\n  }, [location]);\n\n  let [\n    motionVerb,\n    address,\n    speed,\n    altitude,\n    batteryPercent,\n    batteryStatus,\n    horizontalAccuracy,\n    verticalAccuracy,\n    pastTimeSentence,\n  ] = processLocationData(location);\n\n  return (\n    <LocationSummary\n      motionVerb={motionVerb}\n      address={address}\n      speed={speed}\n      altitude={altitude}\n      batteryPercent={batteryPercent}\n      batteryStatus={batteryStatus}\n      horizontalAccuracy={horizontalAccuracy}\n      verticalAccuracy={verticalAccuracy}\n      pastTimeSentence={pastTimeSentence}\n    />\n  );\n};\n\nexport default LocationSummaryContainer;\n\n// Fetch Format:\n// altitude: 66\n// battery_level: 0.6499999761581421\n// device_id: \"CD6s\"\n// horizontal_accuracy: 11\n// latitude: -122.05449562737229\n// longitude: 36.97199261359573\n// motion: \" \"\n// speed: -1\n// timestamp: \"2021-10-24T01:18:04Z\"\n// vertical_accuracy: 22\n","import React from \"react\";\nimport \"css/IntroCardContainer.css\";\nimport { FaCode, FaGraduationCap, FaPlus } from \"react-icons/fa\";\nimport LocationVariable from \"./LocationVariable\";\n\nconst IntroCard = () => {\n  return (\n    <div className=\"IntroContainer\">\n      <div className=\"IntroContainer-content\">\n        <div className=\"IntroContainer-content--intro\">\n          hi there! my name is\n        </div>\n        <div className=\"IntroContainer-content--name\">case.</div>\n        <div>\n          <LocationVariable\n            icon={<FaCode className=\"LocationVariable-icon\" />}\n            value={\"developer\"}\n          />{\" \"}\n          <FaPlus className=\"IntroContainer-content--icon\" />{\" \"}\n          <LocationVariable\n            icon={<FaGraduationCap className=\"LocationVariable-icon\" />}\n            value={\"student\"}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default IntroCard;\n","import React from \"react\";\nimport IntroCard from \"./IntroCard\";\n\nconst IntroCardContainer = () => {\n  return <IntroCard />;\n};\n\nexport default IntroCardContainer;\n","import React from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { GridLayer } from \"@deck.gl/aggregation-layers\";\nimport { StaticMap } from \"react-map-gl\";\nimport { MapView } from \"@deck.gl/core\";\nimport \"../css/deckGl.css\";\n\nconst MAPBOX_ACCESS_TOKEN = process.env.REACT_APP_MAPBOX_API_KEY;\n\n// Viewport settings\nconst INITIAL_VIEW_STATE = {\n  longitude: -122.41669,\n  latitude: 37.7853,\n  zoom: 13,\n  pitch: 0,\n  bearing: 0,\n};\n\nexport function DeckGLComponent({ coordinateList }) {\n  const layer = new GridLayer({\n    id: \"new-grid-layer\",\n    coordinateList,\n    pickable: true,\n    extruded: true,\n    cellSize: 200,\n    elevationScale: 4,\n    getPosition: coordinateList,\n  });\n\n  return (\n    <DeckGL\n      viewState={INITIAL_VIEW_STATE}\n      layers={[layer]}\n      getTooltip={({ object }) =>\n        object && `${object.position.join(\", \")}\\nCount: ${object.count}`\n      }\n    >\n      <MapView id=\"map\" controller={true}>\n        <StaticMap mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN} />\n      </MapView>\n    </DeckGL>\n  );\n}\n","import \"./css/App.css\";\nimport LocationSummaryContainer from \"components/LocationSummaryContainer\";\nimport IntroCardContainer from \"components/IntroCardContainer\";\nimport React from \"react\";\nimport { DeckGLComponent } from \"./components/DeckGL\";\nimport \"./css/deckGl.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"body\">\n        <div>\n          <IntroCardContainer />\n          <LocationSummaryContainer />\n        </div>\n      </div>\n      <div id=\"map\" className=\"DeckGLContainer\">\n        <DeckGLComponent />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"css/index.css\";\nimport App from \"App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\n// Fixes the yarn problem in webstorm:\n// \\\\wsl$\\Ubuntu\\home\\casedelst\\.nvm\\versions\\node\\v16.8.0\\lib\\node_modules\\yarn\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}