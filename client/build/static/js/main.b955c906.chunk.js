(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t){},136:function(e,t,c){},158:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},199:function(e,t,c){},223:function(e,t,c){},238:function(e,t){},243:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(167),r=c.n(i),s=(c(196),c(197),c(10)),o=c.n(s),l=c(20),j=c(14),d=(c(136),c(199),c(9)),u=function(e){var t=e.icon,c=e.value;return Object(d.jsxs)("div",{className:"LocationVariable",children:[Object(d.jsx)("div",{className:"LocationVariable-icon",children:t}),Object(d.jsx)("div",{className:"LocationVariable-text",children:c})]})},b=c(36),x=function(e){var t=e.type,c=e.value;switch(t){case"motion":switch(c){case"driving":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.i,{className:"LocationVariable-icon"}),value:c});case"walking":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.t,{className:"LocationVariable-icon"}),value:c});case"running":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.r,{className:"LocationVariable-icon"}),value:c});case"cycling":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.g,{className:"LocationVariable-icon"}),value:c});case"stationary":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.m,{className:"LocationVariable-icon"}),value:c})}break;case"address":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.n,{className:"LocationVariable-icon"}),value:c});case"speed":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.s,{className:"LocationVariable-icon"}),value:c});case"altitude":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.p,{className:"LocationVariable-icon"}),value:c});case"batteryPercent":return c>95?Object(d.jsx)(u,{icon:Object(d.jsx)(b.c,{className:"LocationVariable-icon"}),value:c}):c>75?Object(d.jsx)(u,{icon:Object(d.jsx)(b.f,{className:"LocationVariable-icon"}),value:c}):c>50?Object(d.jsx)(u,{icon:Object(d.jsx)(b.d,{className:"LocationVariable-icon"}),value:c}):c>25?Object(d.jsx)(u,{icon:Object(d.jsx)(b.e,{className:"LocationVariable-icon"}),value:c}):Object(d.jsx)(u,{icon:Object(d.jsx)(b.b,{className:"LocationVariable-icon"}),value:c});case"batteryStatus":return"charging"===c?Object(d.jsx)(u,{icon:Object(d.jsx)(b.h,{className:"LocationVariable-icon"}),value:c}):Object(d.jsx)(u,{icon:Object(d.jsx)(b.a,{className:"LocationVariable-icon"}),value:c});case"horizontalAccuracy":case"verticalAccuracy":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.o,{className:"LocationVariable-icon"}),value:c});case"pastTimeSentence":return Object(d.jsx)(u,{icon:Object(d.jsx)(b.j,{className:"LocationVariable-icon"}),value:c})}return Object(d.jsx)(u,{})},O=c(2),h=c(168),v=function(e){return Object(d.jsxs)(h.a,Object(O.a)(Object(O.a)({speed:2,width:600,height:300,viewBox:"0 0 600 300",backgroundColor:"#000000",foregroundColor:"#ecebeb"},e),{},{children:[Object(d.jsx)("rect",{x:"0",y:"15",rx:"3",ry:"3",width:"410",height:"6"}),Object(d.jsx)("rect",{x:"0",y:"31",rx:"3",ry:"3",width:"380",height:"6"}),Object(d.jsx)("rect",{x:"0",y:"47",rx:"3",ry:"3",width:"178",height:"6"}),Object(d.jsx)("rect",{x:"0",y:"64",rx:"3",ry:"3",width:"295",height:"6"}),Object(d.jsx)("rect",{x:"0",y:"83",rx:"3",ry:"3",width:"350",height:"15"}),Object(d.jsx)("rect",{x:"2",y:"135",rx:"3",ry:"3",width:"410",height:"6"}),Object(d.jsx)("rect",{x:"2",y:"151",rx:"3",ry:"3",width:"380",height:"6"}),Object(d.jsx)("rect",{x:"2",y:"167",rx:"3",ry:"3",width:"178",height:"6"}),Object(d.jsx)("rect",{x:"2",y:"184",rx:"3",ry:"3",width:"295",height:"6"}),Object(d.jsx)("rect",{x:"2",y:"203",rx:"3",ry:"3",width:"350",height:"10"})]}))},m=function(e){var t=e.motionVerb,c=e.address,a=e.speed,n=e.altitude,i=e.batteryPercent,r=e.batteryStatus,s=e.horizontalAccuracy,o=e.verticalAccuracy,l=e.pastTimeSentence;console.log(t);var j=function(e,t){return Object(d.jsx)(x,{type:e,value:t})};return Object(d.jsx)("div",{className:"LocationSummary",children:t?Object(d.jsxs)("div",{className:"LocationSummary-content",children:[Object(d.jsxs)("div",{children:[j("motion",t),", ",j("speed",a),"mph"," "]}),Object(d.jsxs)("div",{children:[j("altitude",n),"ft within"," ",j("verticalAccuracy",o),"ft"," "]}),Object(d.jsxs)("div",{children:[j("batteryStatus",r)," at"," ",j("batteryPercent",i),"%."]}),Object(d.jsxs)("div",{children:[j("address",c)," within"," ",j("horizontalAccuracy",s),"ft"," "]}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{children:j("pastTimeSentence",l)})})]}):Object(d.jsx)(v,{})})},y=36e5,g=864e5,f=function(e){return Math.round(3.28084*e)},p=new(c(201))("5b7ee5cdde67d6a1b66ad6c1671ba586d9dc766"),N=function(){var e=JSON.parse(localStorage.getItem("location")),t=Object(a.useState)(e),c=Object(j.a)(t,2),n=c[0],i=c[1];function r(){return(r=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/query");case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=function(){(function(){return r.apply(this,arguments)})().then((function(e){var t=e,c=t.latitude.toFixed(7)+","+t.longitude.toFixed(7);p.reverse(c).then((function(e){t.last_updated=Date.now(),t.geocodio_results=e.results[0],i(t),localStorage.setItem("location",JSON.stringify(t))})).catch((function(e){console.error(e)}))}))};if(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GEOCODIO_API_KEY:"5b7ee5cdde67d6a1b66ad6c1671ba586d9dc766",REACT_APP_GOOGLE_API_KEY:"AIzaSyCOQEB_dF4i00JdauJcZjmG8AesxDcOXcs",REACT_APP_MAPBOX_API_KEY:"pk.eyJ1IjoiY2FzZWRlbHN0IiwiYSI6ImNrdmhtNXd6ajBpN2Uyb3MzdWNyZ3RxdGUifQ.zSOuRIAS5N5JKDIk61GVeQ"}).REACT_APP_DEV_MODE)console.log("Dev mode enabled, not fetching data.");else{if(null!=n){var t=parseInt(n.last_updated);Date.now()-t>6e5&&(e(),console.log("Longer than 10 minutes since last fetch"))}null==n&&(e(),console.log("localStorage empty, fetching"))}}),[n]);var s=function(e){var t,c,a,n,i,r,s,o,l;if(!e)return[t,c,a,n,i,r,s,o,l];if(e.motion){var j=e.motion.split(",");" "===e.motion?t="stationary":1===j.length?t=j[0]:2===j.length&&(j.includes("driving")?t="driving":j.includes("walking")?t="walking":j.includes("running")?t="running":j.includes("cycling")?t="cycling":j.includes("stationary")&&(t="stationary"))}if(e.geocodio_results){var d=e.geocodio_results.address_components;c=(d.formatted_street+", "+d.county+", "+d.state).toLowerCase()}if(e.speed&&(a=e.speed<0?0:Math.round(2.23694*e.speed)),e.altitude&&(n=f(e.altitude)),e.battery_level&&(i=Math.round(100*e.battery_level)),void 0!==e.battery_state&&(r=!0===e.battery_state?"charging":"draining"),s=f(e.horizontal_accuracy),o=f(e.vertical_accuracy),e.timestamp){var u="",b=Date.now()-parseInt(new Date(e.timestamp).getTime().toFixed(0)),x=Math.floor(b/g);b%=g;var O=Math.floor(b/y);b%=y;var h=Math.floor(b/6e4);b%=6e4;var v=Math.floor(b/1e3);0!==x&&(u+=1===x?x+" day":x+" days"),0!==O&&(0===u.length?u+=1===O?O+" hour":O+" hours":u+=1===O?", "+O+" hour":", "+O+" hours"),0!==h&&(0===u.length?u+=1===h?h+" minute":h+" minutes":u+=1===h?", "+x+" minute":", "+h+" minutes"),0!==v&&(0===u.length?u+=1===v?v+" second":v+" seconds":(1===x&&(u+=", "+x+" day"),u+=", "+v+" seconds")),l=u+=" ago"}return[t,c,a,n,i,r,s,o,l]}(n),u=Object(j.a)(s,9),b=u[0],x=u[1],O=u[2],h=u[3],v=u[4],N=u[5],_=u[6],S=u[7],w=u[8];return Object(d.jsx)(m,{motionVerb:b,address:x,speed:O,altitude:h,batteryPercent:v,batteryStatus:N,horizontalAccuracy:_,verticalAccuracy:S,pastTimeSentence:w})},_=(c(223),function(){return Object(d.jsx)("div",{className:"IntroContainer",children:Object(d.jsxs)("div",{className:"IntroContainer-content",children:[Object(d.jsx)("div",{className:"IntroContainer-content--intro",children:"hi there! my name is"}),Object(d.jsx)("div",{className:"IntroContainer-content--name",children:"case."}),Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{icon:Object(d.jsx)(b.k,{className:"LocationVariable-icon"}),value:"developer"})," ",Object(d.jsx)(b.q,{className:"IntroContainer-content--icon"})," ",Object(d.jsx)(u,{icon:Object(d.jsx)(b.l,{className:"LocationVariable-icon"}),value:"student"})]})]})})}),S=function(){return Object(d.jsx)(_,{})},w=c(255),L=c(256),A=c(176),I=c(181),V=(c(158),{longitude:-122.41669,latitude:37.7853,zoom:13,pitch:0,bearing:0});function E(e){var t=e.coordinateList,c=new L.a({id:"new-grid-layer",coordinateList:t,pickable:!0,extruded:!0,cellSize:200,elevationScale:4,getPosition:t});return Object(d.jsx)(w.a,{viewState:V,layers:[c],getTooltip:function(e){var t=e.object;return t&&"".concat(t.position.join(", "),"\nCount: ").concat(t.count)},children:Object(d.jsx)(I.a,{id:"map",controller:!0,children:Object(d.jsx)(A.a,{mapboxApiAccessToken:"pk.eyJ1IjoiY2FzZWRlbHN0IiwiYSI6ImNrdmhtNXd6ajBpN2Uyb3MzdWNyZ3RxdGUifQ.zSOuRIAS5N5JKDIk61GVeQ"})})})}var C=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("div",{className:"body",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(S,{}),Object(d.jsx)(N,{})]})}),Object(d.jsx)("div",{id:"map",className:"DeckGLContainer",children:Object(d.jsx)(E,{})})]})},P=c(182);r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(P.a,{children:Object(d.jsx)(C,{})})}),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.b955c906.chunk.js.map